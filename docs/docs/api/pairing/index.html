

<!DOCTYPE html>
<!--[if IEMobile 7 ]> <html dir="ltr" lang="en-US"class="no-js iem7"> <![endif]-->
<!--[if lt IE 7 ]> <html dir="ltr" lang="en-US" class="no-js ie6 oldie"> <![endif]-->
<!--[if IE 7 ]>    <html dir="ltr" lang="en-US" class="no-js ie7 oldie"> <![endif]-->
<!--[if IE 8 ]>    <html dir="ltr" lang="en-US" class="no-js ie8 oldie"> <![endif]-->
<!--[if (gte IE 9)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html dir="ltr" lang="en-US en-us" class="no-js"><!--<![endif]-->
	
<!-- Mirrored from dev.toopher.com/docs/api/pairing by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Mar 2020 22:03:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=9">

        <title>Pairing - Toopher API Documentation - Toopher</title>

        

        <link rel="shortcut icon" href="../../../site_media/static/dist/img/favicon/index.ico?v=2">

        
            <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600,800,700" rel="stylesheet" type="text/css">

            <!-- sass compiled stylesheet -->
            <link href="../../../site_media/static/dist/stylesheets/styles.min/index.css" type="text/css" rel="stylesheet">

            
        

        
        	<script type="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"></script>
        

        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-26481705-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            //ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>

        
    </head>

    <body class="fixed-page" id="">
      <!-- Google Tag Manager -->
      <noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-54MWG4"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-54MWG4');</script>
      <!-- End Google Tag Manager -->

    	
             <div class="snap-drawers">
    <div class="snap-drawer snap-drawer-right scrollable">
        <div>
            <a href="#" id="close-right-nav" class="close-nav"><i class="icon icon-delete"></i></a>
            <ul class="nav main-nav nav-stacked">
            </ul>
            <div class="nav-apps-section">
                <h5>OUR APPS</h5>
                <ul class="list-inline list-unstyled nav-app-list">
                    <li><a href="https://itunes.apple.com/us/app/toopher/id562592093?mt=8&amp;uo=4" 
       target="itunes_store"><i class="fa fa-apple"></i></a></li>
                    <li><a href="http://play.google.com/store/apps/details?id=com.toopher.android"><i class="fa fa-android"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
        

        <div id="content" class="snap-content" data-snap-ignore="true">
        	
    <header class="navbar toopher-docs-nav navbar-default navbar-docs navbar-static-top" role="banner">
    <div class="container-fluid">
    	<div class="row">
    		<div class="col-xs-12">
		        <a href="https://www.toopher.com/">
		            <img class="toopher-nav-logo" src="../../../site_media/static/img/sf-toopher-transparent/index.png" alt="Salesforce + Toopher" width="220" />
		        </a>
		        <nav class="navbar-right" role="navigation">
    <ul class="nav navbar-nav navbar-right">
    </ul>
</nav>
		    </div>
        </div>
    </div>
</header>


        	
                <noscript>

                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="alert alert-warning">
                                <a class="close" data-dismiss="alert">&times;</a>
                                Please enable JavaScript to experience all the sweet features we lovingly built for you.
                            </div>
                        </div>
                    </div>
                </div>
                </noscript>

                
  <div class="container-fluid content-frame">
    <div class="row">

      

<div class="col-xs-3">
    <div class="sidebar-menu-wrapper">
        <nav class="sidebar-section sidebar-menu">
            <h4 class="sidebar-menu-title">Documentation</h4>
            <ul class="nav nav-stacked">
                <li class=""><a href="../../getting-started/">Getting Started Guide</a></li>
                <li class="active"><a href="index.html">Pairing</a></li>
                <li class=""><a href="../authenticating/">Authenticating</a></li>
                <li class=""><a href="../../demo-to-real-world/">Demo to Real World</a></li>
                <li class=""><a href="../account-recovery/">Account Recovery</a></li>
                <li class=""><a href="../../testing/">Testing</a></li>
                <li class=""><a href="../../examples/">Examples</a></li>
                <li class=""><a href="../../faq/">FAQ</a></li>
                <li><a href="mailto:support@toopher.com">Contact Support</a></li>
            </ul>
        </nav>
    </div>
</div>

      <div class="col-xs-9 main-content" role="main">
        <div class="row">
          <div class="col-xs-12">

            <div class="page-header">
              <h1 class="page-title">Pairing</h1>

              <p class="lead">To pair a user's mobile app with your service you'll need a "pairing phrase". A pairing
                phrase is a short phrase that can be generated by the Toopher mobile app. Prompt the user for the phrase
                and make the following request:</p>
            </div>

            <hr>

            <!-- ################### -->
            <!-- POST create pairing -->
            <!-- ################### -->
            <h3><span class="verb">POST</span> pairings/create</h3>

            <p>Create a pairing</p>
            <h5>Resource URL</h5>

            <p><code>https://api.toopher.com/v1/pairings/create</code></p>

            <h5>PARAMETERS</h5>
            <table class="table docs-table">
              <tr>
                <td><strong>pairing_phrase</strong><br>
                  <small>required</small>
                </td>
                <td>The pairing phrase generated by a user's mobile application.</td>
              </tr>
              <tr>
                <td><strong>user_name</strong><br>
                  <small>semi-required</small>
                </td>
                <td>
                  A human recognizable string which represents the user making the request (usually their username).
                  This is displayed to the user on the mobile app when authenticating. If this is not included, then a
                  user_id returned from a previous request must be provided (see below).
                </td>
              </tr>
              <tr>
                <td><strong>user_id</strong><br>
                  <small>semi-required</small>
                </td>
                <td>
                  The unique string identifier generated and returned by the Toopher web service for a given user from a
                  previous request. If this is not included, then a user_name is required (see above). If both are
                  provided, the user_name for the given user_id will be updated. This allows Toopher to handle unique
                  users independently of a user's name changing.
                </td>
              </tr>
              <tr>
                <td><strong>format</strong><br>
                  <small>optional</small>
                </td>
                <td>
                  Allows the response formatting to be specified. Valid values are: xml, json, and yaml. The default is
                  json.
                </td>
              </tr>
            </table>

            <div class="code-gutter">
              <h4>Pairing Code Examples</h4>
              <ul class="nav nav-tabs">
                <li class="active"><a href="#python" data-toggle="tab">Python</a></li>
                <li><a href="#java" data-toggle="tab">Java</a></li>
                <li><a href="#dot-net" data-toggle="tab">.NET</a></li>
                <li><a href="#php" data-toggle="tab">PHP</a></li>
                <li><a href="#ruby" data-toggle="tab">Ruby</a></li>
                <li><a href="#perl" data-toggle="tab">Perl</a></li>
              </ul>

              <div class="tab-content">
                <div class="tab-pane active" id="python">
                  <script src="https://gist.github.com/smholloway/3542bbe245539ad9e465.js"></script>
                  <p class="pull-right"><a href="https://github.com/toopher/toopher-python">Toopher Python API library
                    on GitHub &raquo;</a></p>
                </div>
                <div class="tab-pane" id="java">
                  <script src="https://gist.github.com/smholloway/9f2833113596616d9337.js"></script>
                  <p class="pull-right"><a href="https://github.com/toopher/toopher-java">Toopher Java API library on
                    GitHub &raquo;</a></p>
                </div>
                <div class="tab-pane" id="ruby">
                  <script src="https://gist.github.com/smholloway/6cc97c5e9090013c7463.js"></script>
                  <p class="pull-right"><a href="https://github.com/toopher/toopher-ruby">Toopher Ruby API library on
                    GitHub &raquo;</a></p>
                </div>
                <div class="tab-pane" id="dot-net">
                  <script src="https://gist.github.com/smholloway/ca0519c81bdb5924e34f.js"></script>
                  <p class="pull-right"><a href="https://github.com/toopher/toopher-dotnet">Toopher DotNet API library
                    on GitHub &raquo;</a></p>
                </div>
                <div class="tab-pane" id="php">
                  <script src="https://gist.github.com/smholloway/4db0acf76400d4680847.js"></script>
                  <p class="pull-right"><a href="https://github.com/toopher/toopher-php">Toopher PHP API library on
                    GitHub &raquo;</a></p>
                </div>
                <div class="tab-pane" id="perl">
                  <script src="https://gist.github.com/smholloway/8028738cfdd65113c632.js"></script>
                  <p class="pull-right"><a href="https://github.com/toopher/toopher-perl">Toopher Perl API library on
                    GitHub &raquo;</a></p>
                </div>
              </div>
              <!-- .tab-content -->
            </div>
            <!-- .code-gutter -->

            <hr>

            <h3>Response</h3>

            <p>Upon success, a status object will be returned with the following fields formatted as desired.</p>

            <table class="table docs-table">
              <tr>
                <td><strong>id</strong></td>
                <td>A unique string identifier generated and returned by the Toopher web service that is used to
                  identify this pairing. It can be used to request status information for the pairing and must be
                  included in subsequent authentication requests for this user.
                </td>
              </tr>
              <tr>
                <td><strong>user</strong></td>
                <td>A nested user object that will contain the following fields:
                  <ul>
                    <li>id: A unique string identifier generated and returned by the Toopher web service for a given
                      user.
                    </li>
                    <li>name: The human recognizable user name associated with the given id.</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td><strong>pending</strong></td>
                <td>A boolean value indicating if the request is still pending.</td>
              </tr>
              <tr>
                <td><strong>enabled</strong></td>
                <td>A boolean value indicating whether or not the pairing has been acknowledged and enabled by the
                  user.
                </td>
              </tr>
            </table>

            <p>Upon creating a pairing, the user will be notified and can choose to grant or deny the pairing. The user
              must grant the pairing before authentication requests will be successful. The status of a pairing can be
              checked with the following request:</p>

            <div class="code-gutter">
              <h4 id="auth_status_example_json">Pairing Response Example</h4>

              <ul class="nav nav-tabs">
                <li class="active"><a href="#json" data-toggle="tab">JSON</a></li>
              </ul>

              <div class="tab-content">
                <div class="tab-pane active" id="json">
                  <script src="https://gist.github.com/smholloway/61b0d1e7e1e2f01c69f1.js"></script>
                </div>
              </div>
              <!-- .tab-content -->
            </div>
            <!-- .code-gutter -->

            <hr>

            <h3>Errors</h3>
            <p>Errors are possible. Errors will have an HTTP status code of 400 or greater; each response should have a JSON object with an <code>error_code</code> and <code>error_message</code>.</p>

            <table class="table docs-table">
              <tr>
                <td><strong>400 - Bad Request</strong></td>
                <td>You may receive a 400 if we cannot understand the input to the pairing function.</td>
              </tr>
              <tr>
                <td><strong>401 - Unauthorized</strong></td>
                <td>You may receive a 401 due to OAuth errors.</td>
              </tr>
              <tr>
                <td><strong>403 - Forbidden</strong></td>
                <td>You may receive a 403 when accessing a resource that does not belong to you, attempting to use a <code>Requester</code> that was deleted, using a feature that is not allowed by your current plan.</td>
              </tr>
              <tr>
                <td><strong>409 - Conflict</strong></td>
                <td>You may receive a 409 when attempting to pair via SMS with a user who has opted-out of receiving SMS from Toopher.</td>
              </tr>
            </table>

            <hr>

            <!-- ################## -->
            <!-- GET pairing status -->
            <!-- ################## -->
            <h4><span class="verb">GET</span> pairings/{pairing_id}</h4>

            <p>Check the status of a pairing</p>

            <h5>Resource URL</h5>

            <p><code>https://api.toopher.com/v1/pairings/{pairing_id}</code></p>
            <h5>Response</h5>

            <p>Upon success, the body will contain the status of the pairing (as specified above) in the desired
              format.</p>

            <div class="code-gutter">
              <h4 id="auth_status_example_json">Pairing Status Response Example</h4>

              <ul class="nav nav-tabs">
                <li class="active"><a href="#json" data-toggle="tab">JSON</a></li>
              </ul>

              <div class="tab-content">
                <div class="tab-pane active" id="json">
                  <script src="https://gist.github.com/smholloway/9bcf6d470d3330841beb.js"></script>
                </div>
              </div>
              <!-- .tab-content -->
            </div>
            <!-- .code-gutter -->

            <hr>

            <h3>Errors</h3>
            <p>Errors are possible. Errors will have an HTTP status code of 400 or greater; each response should have a JSON object with an <code>error_code</code> and <code>error_message</code>.</p>

            <table class="table docs-table">
              <tr>
                <td><strong>400 - Bad Request</strong></td>
                <td>You may receive a 400 if we cannot understand the input to the pairing function.</td>
              </tr>
              <tr>
                <td><strong>401 - Unauthorized</strong></td>
                <td>You may receive a 401 due to OAuth errors.</td>
              </tr>
              <tr>
                <td><strong>403 - Forbidden</strong></td>
                <td>You may receive a 403 when accessing a resource that does not belong to you.</td>
              </tr>
            </table>

            <hr>

            <div class="row">
              <div class="col-xs-12">
                <section class="docs-where-next-container">
                  <h4>Next Up</h4>

                  <p>Once you have a pairing, you can authenticate users.</p>

                  <p><a href="../authenticating/" class="btn btn-round btn-default btn-outline">Authenticating &raquo;</a>
                  </p>
                </section>
              </div>
              <!-- .col-xs-6 -->
            </div>
            <!-- .row -->
          </div>
          <!-- .col-xs-12 -->
        </div>
        <!-- .row -->
      </div>
      <!-- .col-xs-10 #main-content -->
    </div>
    <!-- .row -->
  </div><!-- .container-fluid -->



            

            
    

<footer>
    <div class="container-fluid">
        <div class="row footer-links">
            <div class="col-xs-12 col-md-4">
                <a href="https://www.toopher.com/" class="toopher-footer-logo">
                    <img src="../../../site_media/static/img/sf-toopher-transparent/index.png" width="220" alt="Toopher" />
                </a>
                <p class="toopher-short-description">Toopher prevents online fraud using your mobile device to automatically verify you are where your identity is being used.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <div class="col-xs-12 col-md-8">
                        <p><small class="text-muted copyright">&copy; 2011 - 2014 Toopher Inc.</small></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

        </div><!-- .snap-content -->

        
        	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
            <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

            <script type="text/javascript" src="../../../site_media/static/dist/js/lib/index.js"></script>
        	<script type="text/javascript" src="../../../site_media/static/dist/js/app/index.js"></script>

        	
        
    </body>

<!-- Mirrored from dev.toopher.com/docs/api/pairing by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Mar 2020 22:03:17 GMT -->
</html>
